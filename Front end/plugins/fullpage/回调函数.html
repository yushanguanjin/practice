<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <title>fullPage.js — 回调函数演示_dowebok</title>
    <link rel="stylesheet" href="css/jquery.fullPage.css">
    <style>
        .section {
            text-align: center;
            font: 50px "Microsoft Yahei";
            color: #fff;
        }
        
        .section2 .left {
            position: relative;
            left: -50%;
            width: 50%;
            height: 100%;
            float: left;
            background: #ff0000;
            /* left: -120%; */
        }
        
        .section2 .right {
            position: relative;
            right: -50%;
            width: 50%;
            height: 100%;
            float: left;
            background: #0000ff;
        }
        
        .section3 p {
            position: relative;
            bottom: -120%;
        }
        
        .section4 p {
            display: none;
        }
    </style>
    <script src="js/jquery-1.8.3.min.js"></script>
    <script src="js/jquery.fullPage.min.js"></script>
    <script src="http://cdn.staticfile.org/jquery-easing/1.3/jquery.easing.min.js"></script>
    <script>
        $(function() {
            $('#dowebok').fullpage({
                sectionsColor: ['#1bbc9b', '#4BBFC3', '#7BAABE', '#f90'],
                afterLoad: function(anchorLink, index) {
                    if (index == 2) {
                        $('.section2').find('.left').delay(500).animate({
                            left: '0'
                        }, 100, 'easeOutExpo');
                        $('.section2').find('.right').delay(500).animate({
                            right: '0'
                        }, 100, 'easeOutExpo');
                    }
                    if (index == 3) {
                        $('.section2').find('.left').delay(500).animate({
                            left: '-50%'
                        }, 100, 'easeOutExpo');
                        $('.section2').find('.right').delay(500).animate({
                            right: '-50%'
                        }, 100, 'easeOutExpo');
                    }
                },
                onLeave: function(index, nextindex, direction) {
                    console.log(direction);
                    if (nextindex == '2' && direction == 'down') {
                        $('.section2').find('.left').css('left', '-50%');
                        $('.section2').find('.right').css('right', '-50%');
                        console.log(10);
                    }
                    if (index == '3') {
                        $('.section3').find('p').delay(500).animate({
                            bottom: '-120%'
                        }, 1500, 'easeOutExpo');
                    }
                    if (index == '4') {
                        $('.section4').find('p').fadeOut(2000);
                    }
                }
            });
        });
    </script>
</head>

<body>

    <div id="dowebok">
        <div class="section section1">
            <h3>第一屏</h3>
            <p>fullPage.js — 回调函数演示</p>
        </div>
        <div class="section section2">
            <div class="left"></div>
            <div class="right"></div>
        </div>
        <div class="section section3">
            <h3>第三屏</h3>
            <p>滚动到第三屏后的回调函数执行的效果</p>
        </div>
        <div class="section section4">
            <h3>第四屏</h3>
            <p>滚动到第四屏后的回调函数执行的效果</p>
        </div>
    </div>
    <a href="http://www.dowebok.com/" style="display: none;">dowebok</a>
    <a href="http://www.dowebok.com/77.html" style="display: none;">jQuery全屏滚动插件fullPage.js</a>

</body>

</html>