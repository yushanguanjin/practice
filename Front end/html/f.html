<!DOCTYPE HTML>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>js选项卡插件</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        .clearfix:after {
            overflow: hidden;
            clear: both;
        }

        #tab1 {
            color: #fff;
        }

        .nav {
            float: left;
            height: 20px;
            background: #1580e4;
        }

        .page {
            height: 200px;
            background: #462002;
        }

        .active {
            background: #00ff00;
        }

        .show {
            display: block;
        }

        .hide {
            display: none;
        }
    </style>

</head>

<body>
    <div id="tab1">
        <div class="tab-nav clearfix">
            <div class="nav active">导航1</div>
            <div class="nav">导航2</div>
            <div class="nav">导航3</div>
            <div class="nav">导航4</div>
            <div class="nav">导航5</div>
            <div class="nav">导航6</div>
        </div>
        <div class="tab-page">
            <div class="page show">选项卡页1</div>
            <div class="page hide">选项卡页2</div>
            <div class="page hide">选项卡页3</div>
            <div class="page hide">选项卡页4</div>
            <div class="page hide">选项卡页5</div>
            <div class="page hide">选项卡页6</div>
        </div>
    </div>
    <script>
        function Tab(obj) {
            this.oParent = document.getElementById(obj.id);
            console.log(obj.id);
            this.oNav = this.oParent.getElementsByClassName("nav");
            this.oPage = this.oParent.getElementsByClassName("page");
            for (var i = 0; i < this.oNav.length; i++) {
                this.oNav[i].style.width = obj.oNavWidth + "px";
                this.oPage[i].style.width = obj.oNavWidth * this.oPage.length + "px";
            }

        }
        Tab.prototype = {
            constructor: Tab,
            init: function () {
                var _this = this;

                for (var i = 0; i < this.oNav.length; i++) {
                    // this.oNav[i].index = i;
                    var eventType = obj.eventType || onclick;
                    (function(i) {
                        console.log(_this.oNav[i]);
                      _this.oNav[i].addEventlistener(eventType, function () {
                        console.log(10);
                        // for (var k = 0; k < _this.oNav.length; k++) {
                        //     _this.oNav[k].className = "nav";
                        // }
                        // this.className = "nav active";
                        // _this.change(this.index);
                    }, false);
                    })(i)
                    




                    // this.oNav[i].onclick = function () {
                    //     console.log(10);
                    //     for (var k = 0; k < _this.oNav.length; k++) {
                    //         _this.oNav[k].className = "nav";
                    //     }
                    //     this.className = "nav active";
                    //     _this.change(this.index);
                    // }

                }
            },
            change: function (i) {
                for (var j = 0; j < this.oPage.length; j++) {
                    this.oPage[j].className = "page hide";
                }
                this.oPage[i].className = "page show";
            }
        }



        var obj = {
            id: "tab1",
            oNavWidth: 60,
            eventType: "onmouseover" //注意加引号
        };
        var tab1 = new Tab(obj);
        tab1.init();

        // function Tab2(id, oNavWidth, oNavBgc) {
        //     Tab.call(this, id, oNavWidth);
        //     for (var i = 0; i < this.oNav.length; i++) {
        //         this.oNav[i].style.background = oNavBgc;
        //     }
        // }
        // Tab2.prototype = new Tab();

        // var tab2 = new Tab2("tab2",60,"#ff0000");
    </script>
</body>

</html>