<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>

    <script>
        //解构赋值的规则是，只要等号右边的值不是对象或数组，就先将其转为对象。由于undefined和null无法转为对象，所以对它们进行解构赋值，都会报错
        /*在给变量赋值时使用解构语法*/
        //一定要用一对小括号包裹解构赋值语句，JS引擎将一对开放的花括号视为一个代码块。语法规定，代码块语句不允许出现在赋值语句左侧，添加小括号后可以将块语句转化为一个表达式，从而实现整个解构赋值过程
        let node1 = {
                type: "Identifier",
                name: "foo"
            },
            type = "Literal",
            name = 5;
        // 使用解构来分配不同的值
        ({
            type,
            name
        } = node1);
        console.log(type); // "Identifier"
        console.log(name); // "foo"
        console.log('........................');
        /*默认值*/
        let node2 = {
            type2: "Identifier",
            name2: "foo"
        };
        let {
            type2,
            name2,
            value
        } = node2;
        console.log(type2); // "Identifier"
        console.log(name2); // "foo"
        console.log(value); // undefined
        console.log('........................');
        /*为非同名局部变量赋值*/
        let node3 = {
            type3: "Identifier",
            name3: "foo"
        };
        let {
            type3: localType,
            name3: localName
        } = node3;
        console.log(localType); // "Identifier"
        console.log(localName); // "foo"
        console.log('................................................');

        /*数组解构*/
        let colors = ["red", "green", "blue"];
        let [, , thirdColor] = colors;
        console.log(thirdColor); // "blue"
        /*变量交换*/
        let a = 1,
            b = 2;
        [a, b] = [b, a];
        console.log(a); // 2
        console.log(b); // 1

        /*混合解构*/
        let node4 = {
            type4: "Identifier",
            name4: "foo",
            loc: {
                start: {
                    line: 1,
                    column: 1
                },
                end: {
                    line: 1,
                    column: 4
                }
            },
            range: [0, 3]
        };
        let {
            loc: {
                start
            },
            range: [startIndex]
        } = node4;
        console.log(start.line); // 1
        console.log(start.column); // 1
        console.log(startIndex); // 0
        console.log('................................................');
        const [a1, b1, c1, d1, e1] = 'hello';
        console.log(a1); //"h"
        console.log(b1); //"e"
        console.log(c1); //"l"
        console.log(d1); //"l"
        console.log(e1); //"o"
    </script>
</body>

</html>